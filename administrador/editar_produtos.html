<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Editar Produto</title>
    <link rel="stylesheet" href="../css/atomic/main.css">
    <link rel="stylesheet" href="../css/atomic/form-styles.css">
</head>
<body>

<button class="menu-btn" aria-label="Abrir menu" aria-expanded="false">&#9776;</button>
    
    <div class="hamburguer">
        <img class="logo" src="../img/Logo.png" alt="Logo">
        <nav class="nav">
            <ul>
                <li class="category"><a href="#">ADMINISTRADOR</a>
                    <ul class="submenu">
                        <li><a href="./listar_administrador.html">LISTAR</a></li>
                        <li><a href="./cadastrar_administrador.html">CADASTRAR</a></li>
                    </ul>
                </li>
                <li class="category"><a href="#">CATEGORIA</a>
                    <ul class="submenu">
                        <li><a href="listar_categorias.html">LISTAR</a></li>
                        <li><a href="./cadastrar_categorias.html">CADASTRAR</a></li>
                    </ul>
                </li>
                <li class="category"><a href="#">FORNECEDOR</a>
                    <ul class="submenu">
                        <li><a href="listar_fornecedores.html">LISTAR</a></li>
                        <li><a href="./cadastrar_fornecedores.html">CADASTRAR</a></li>
                    </ul>
                </li>
                <li class="category"><a href="#">PRODUTO</a>
                    <ul class="submenu">
                        <li><a href="listar_produtos.html">LISTAR</a></li>
                        <li><a href="./cadastrar_produtos.html">CADASTRAR</a></li>
                    </ul>
                </li>
                <li class="category"><a href="#">SUBCATEGORIA</a>
                    <ul class="submenu">
                        <li><a href="listar_subcategorias.html">LISTAR</a></li>
                        <li><a href="./cadastrar_subcategorias.html">CADASTRAR</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </div>
    
    <div class="container">
    <h2>Editar Produto</h2>
    
    <form method="post">

        <label for="nome">Nome:</label>
        <input type="text" name="nome" id="nome" value="Perfume Exemplo 100ml" required>

        <label for="imagem">Imagem:
        <a href="https://freeimage.host/isabellaavelina" target="_blank" rel="noopener noreferrer" style="margin-left: 5px; font-weight: normal; font-size: 0.9em;">Hospedagem de imagens</a>
        </label>
        <input type="text" name="imagem" id="imagem" value="https://exemplo.com/url-da-imagem.jpg" placeholder="add url" required>

        <label for="fornecedor">Fornecedor:</label>
        <select name="fornecedor" id="fornecedor" required>
            <option value="">Selecione um fornecedor</option>
            <option value="1" selected>Fornecedor Alpha (Atual)</option>
            <option value="2">Fornecedor Beta</option>
            <option value="3">Fornecedor Gama</option>
        </select>

        <label for="descricao">Descrição:</label>
        <input type="text" name="descricao" id="descricao" value="Descrição detalhada do produto." required>

        <label for="subcategoria">Subcategoria:</label>
        <select name="subcategoria" id="subcategoria" required>
            <option value="">Selecione uma subcategoria</option>
            <option value="10" selected>Perfumes (Atual)</option>
            <option value="11">Maquiagem</option>
            <option value="12">Cabelo</option>
        </select>

        <label for="estoque">Estoque:</label>
        <input type="number" name="estoque" id="estoque" value="150" required> unidades

        <label for="preco">Preço (R$):</label>
        <input type="text" name="preco" id="preco" value="199,99" placeholder="R$ 00,00" required>

        <button type="submit">Salvar Alterações</button>
    </form>


    <div style="text-align: center;">
        <a href="listar_produtos.html">Voltar para a listagem</a>
    </div>

<script src="js/script.js"></script> 

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const precoInput = document.getElementById('preco');

        if (precoInput) {
            // Adiciona o listener para a máscara de moeda
            precoInput.addEventListener('input', function() {
                mascaramoeda(this);
            });
        }
    });

    // Esta função deve ser movida para o js/script.js para ser global
    function mascaramoeda(input) {
        let valor = input.value.replace(/\D/g, '');
        valor = valor.replace(/(\d)(\d{2})$/, '$1,$2');
        valor = valor.replace(/(\d+)(\d{3},\d{2})$/, '$1.$2');
        input.value = valor;
    }
</script>
</body>
</html>